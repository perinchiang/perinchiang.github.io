<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://perinchiang.github.io/images/favicon.png" />
<title>如何在终端中使用chatGPT 3.0 | Patrick&#39;s Blog</title>
<meta name="title" content="如何在终端中使用chatGPT 3.0" />
<meta name="description" content="如何在终端中使用chatGPT?
Created: December 17, 2022 6:33 PM
Tags: Thoughts
来源于GitHub项目:https://github.com/PopDaddyGames/ChatGPT-Terminal

ChatGPT-Terminal 是一个命令行界面，它使用 OpenAI API 根据用户输入生成响应。
🤖 ChatGPT 终端
欢迎来到 ChatGPT 终端！
我很高兴与您分享这个项目！
这个终端 ChatGPT 界面是用 Python 编写的，通过 ChatGPT 模型（这是一个由 OpenAI 训练的大型语言模型）生成答案)).
大纲：
此代码使用 openai 模块与 OpenAI API 交互。它首先检查用户的操作系统，并将清除终端屏幕的适当命令分配给 clear 变量。然后，如果代码中尚未提供，它会提示用户输入他们的 OpenAI API 密钥。最后，它进入一个 while 循环，提示用户输入并使用 OpenAI API 根据提供的输入生成响应。然后将响应打印到终端。

注意：代码已根据屏幕截图进行了轻微修改。参考 ChatGPT-Terminal.py

    
    Untitled

如果您有任何改进意见或建议，我很乐意听取。
感谢您访问我的 GitHub 页面并考虑我的项目！
在 GitHub 上查看
支持 Patreon
安装

注意：根据您的安装环境（例如 MacOS），您可能需要使用 pip3 代替 pip 或 python3 代替 python" />
<meta name="keywords" content="" />

<link rel="canonical" href="https://perinchiang.github.io/p/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%AD%E4%BD%BF%E7%94%A8chatgpt-3.0/">


<meta property="og:url" content="https://perinchiang.github.io/p/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%AD%E4%BD%BF%E7%94%A8chatgpt-3.0/">
  <meta property="og:site_name" content="Patrick&#39;s Blog">
  <meta property="og:title" content="如何在终端中使用chatGPT 3.0">
  <meta property="og:description" content="如何在终端中使用chatGPT? Created: December 17, 2022 6:33 PM Tags: Thoughts
来源于GitHub项目:https://github.com/PopDaddyGames/ChatGPT-Terminal
ChatGPT-Terminal 是一个命令行界面，它使用 OpenAI API 根据用户输入生成响应。
🤖 ChatGPT 终端 欢迎来到 ChatGPT 终端！ 我很高兴与您分享这个项目！
这个终端 ChatGPT 界面是用 Python 编写的，通过 ChatGPT 模型（这是一个由 OpenAI 训练的大型语言模型）生成答案)).
大纲： 此代码使用 openai 模块与 OpenAI API 交互。它首先检查用户的操作系统，并将清除终端屏幕的适当命令分配给 clear 变量。然后，如果代码中尚未提供，它会提示用户输入他们的 OpenAI API 密钥。最后，它进入一个 while 循环，提示用户输入并使用 OpenAI API 根据提供的输入生成响应。然后将响应打印到终端。
注意：代码已根据屏幕截图进行了轻微修改。参考 ChatGPT-Terminal.py
Untitled 如果您有任何改进意见或建议，我很乐意听取。 感谢您访问我的 GitHub 页面并考虑我的项目！
在 GitHub 上查看
支持 Patreon
安装 注意：根据您的安装环境（例如 MacOS），您可能需要使用 pip3 代替 pip 或 python3 代替 python">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2022-12-23T01:05:02+00:00">
    <meta property="article:modified_time" content="2024-02-27T05:17:13+00:00">
    <meta property="og:image" content="https://perinchiang.github.io/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://perinchiang.github.io/images/share.png">
  <meta name="twitter:title" content="如何在终端中使用chatGPT 3.0">
  <meta name="twitter:description" content="如何在终端中使用chatGPT? Created: December 17, 2022 6:33 PM Tags: Thoughts
来源于GitHub项目:https://github.com/PopDaddyGames/ChatGPT-Terminal
ChatGPT-Terminal 是一个命令行界面，它使用 OpenAI API 根据用户输入生成响应。
🤖 ChatGPT 终端 欢迎来到 ChatGPT 终端！ 我很高兴与您分享这个项目！
这个终端 ChatGPT 界面是用 Python 编写的，通过 ChatGPT 模型（这是一个由 OpenAI 训练的大型语言模型）生成答案)).
大纲： 此代码使用 openai 模块与 OpenAI API 交互。它首先检查用户的操作系统，并将清除终端屏幕的适当命令分配给 clear 变量。然后，如果代码中尚未提供，它会提示用户输入他们的 OpenAI API 密钥。最后，它进入一个 while 循环，提示用户输入并使用 OpenAI API 根据提供的输入生成响应。然后将响应打印到终端。
注意：代码已根据屏幕截图进行了轻微修改。参考 ChatGPT-Terminal.py
Untitled 如果您有任何改进意见或建议，我很乐意听取。 感谢您访问我的 GitHub 页面并考虑我的项目！
在 GitHub 上查看
支持 Patreon
安装 注意：根据您的安装环境（例如 MacOS），您可能需要使用 pip3 代替 pip 或 python3 代替 python">




  <meta itemprop="name" content="如何在终端中使用chatGPT 3.0">
  <meta itemprop="description" content="如何在终端中使用chatGPT? Created: December 17, 2022 6:33 PM Tags: Thoughts
来源于GitHub项目:https://github.com/PopDaddyGames/ChatGPT-Terminal
ChatGPT-Terminal 是一个命令行界面，它使用 OpenAI API 根据用户输入生成响应。
🤖 ChatGPT 终端 欢迎来到 ChatGPT 终端！ 我很高兴与您分享这个项目！
这个终端 ChatGPT 界面是用 Python 编写的，通过 ChatGPT 模型（这是一个由 OpenAI 训练的大型语言模型）生成答案)).
大纲： 此代码使用 openai 模块与 OpenAI API 交互。它首先检查用户的操作系统，并将清除终端屏幕的适当命令分配给 clear 变量。然后，如果代码中尚未提供，它会提示用户输入他们的 OpenAI API 密钥。最后，它进入一个 while 循环，提示用户输入并使用 OpenAI API 根据提供的输入生成响应。然后将响应打印到终端。
注意：代码已根据屏幕截图进行了轻微修改。参考 ChatGPT-Terminal.py
Untitled 如果您有任何改进意见或建议，我很乐意听取。 感谢您访问我的 GitHub 页面并考虑我的项目！
在 GitHub 上查看
支持 Patreon
安装 注意：根据您的安装环境（例如 MacOS），您可能需要使用 pip3 代替 pip 或 python3 代替 python">
  <meta itemprop="datePublished" content="2022-12-23T01:05:02+00:00">
  <meta itemprop="dateModified" content="2024-02-27T05:17:13+00:00">
  <meta itemprop="wordCount" content="145">
  <meta itemprop="image" content="https://perinchiang.github.io/images/share.png">
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
   
  :root {
    --width-max: 720px;
    --font-primary: Verdana, sans-serif;
    --font-secondary: monospace;
    --font-size-primary: 1em;
    --font-size-secondary: 0.8em;
    --body-bg-color: #fcfcfc;
    --bold-text-color: #222;
    --body-text-color: #444;
    --link-color: #3273dc;
    --link-visited-color: #8b6fcb;
    --table-border-color: #f2f2f2;
    --table-th-bg-color: #f2f2f2;
    --img-border-color: #f2f2f2;
    --code-bg-color: #f2f2f2;
    --code-text-color: #222;
    --blockquote-border-color: #666;
    --blockquote-text-color: #666;
    --upvoted-color: #FA8072;
    --caption-text-color: #666;
    --toc-text-color: #e5e5e5;
    --toc-hover-color: #655e5e;
  }

  @media (prefers-color-scheme: dark) {
     
    :root {
      --body-bg-color: #1c1c1c;
      --bold-text-color: #eee;
      --body-text-color: #ddd;
      --link-color: #8cc2dd;
      --link-visited-color: #c3b1ee;
      --table-border-color: #999;
      --table-th-bg-color: #999;
      --img-border-color: #999;
      --code-bg-color: #555;
      --code-text-color: #ddd;
      --blockquote-border-color: #ccc;
      --blockquote-text-color: #ccc;
      --caption-text-color: #aaa;
      --toc-text-color: #373737;
      --toc-hover-color: #CAC3C3;
    }
  }

  body {
    font-family: var(--font-primary);
    font-size: var(--font-size-primary);
    margin: auto;
    padding: 20px;
    max-width: var(--width-max);
    text-align: left;
    background-color: var(--body-bg-color);
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: var(--body-text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: var(--bold-text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 16px 0;
  }

  a {
    color: var(--link-color);
    cursor: pointer;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title:hover {
    text-decoration: none;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 8px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 14px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--table-border-color);
    border-radius: 4px;
  }

  th,
  td {
    border: 1px solid var(--table-border-color);
    padding: 4px;
  }

  th {
    background-color: var(--table-th-bg-color);
  }

  hr {
    border: 0;
    border-top: 1px dashed;
  }

  img {
    max-width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid var(--img-border-color);
    border-radius: 4px;
    content-visibility: auto;
    loading: lazy;
  }

  img[src*="#minipic"] {
    max-width: 50%;
    margin-left: 0;
    margin-right: auto;
  }

  .image-caption figcaption {
    text-align: center;
    font-style: italic;
    font-size: 0.8em;
    margin-top: 0.6em;
    color: var(--caption-text-color);
  }

  .image-caption {
    margin: auto;
  }

  i {
    font-style: normal;
  }

  time {
    font-family: var(--font-secondary);
    font-size: 15px;
  }

  code {
    font-family: var(--font-secondary);
    background-color: var(--code-bg-color);
    color: var(--code-text-color);
    padding: 2px;
    border-radius: 4px;
  }

  pre code {
    display: block;
    padding: 16px;
    white-space: pre-wrap;
    overflow-x: auto;
  }

  div.highlight pre {
    border-radius: 4px;
  }

  div.highlight code {
    background-color: var(--code-bg-color);
    color: var(--code-text-color);
  }

  blockquote {
    border-left: 2px solid var(--blockquote-border-color);
    color: var(--blockquote-text-color);
    margin: 0;
    padding-left: 16px;
    font-style: normal;
  }

  blockquote p {
    margin: 0;
  }

  footer {
    padding: 25px 0;
    text-align: center;
    font-size: var(--font-size-secondary);
  }

  ul li:has(input) {
    list-style-type: none;
    margin-left: -25.5px;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li span.grouped {
    flex: 0 0 80px;
  }

  ul.blog-posts li a:visited {
    color: var(--link-visited-color);
  }

   
    div.toc {
        position: fixed;  
        top: 50%;  
        left: calc((100vw + var(--width-max)) / 2);  
        transform: translateY(-50%);  
        width: calc((90vw - var(--width-max)) / 2);  
        max-height: 80vh;  
        overflow-y: auto;  
        border: none;  
        padding: 0;  
        margin: 0;  
        z-index: 99;  

         
        &::-webkit-scrollbar {  
            display: none;  
        }

        -ms-overflow-style: none;  
        scrollbar-width: none;  
    }

    .toc-nav {  
        padding: 1.5rem;  
    }

    .toc-nav ul {  
        list-style: none;  
        padding: 0;  
        margin: 0;  
    }

    .toc-nav li {  
        margin: 8px 0;  
    }

    .toc-nav a {  
        display: block;  
        text-decoration: none;  
        color: transparent;  
        padding: 0 12px;  
        transition: all 0.2s ease;  
        font-size: 0.9rem;  
        line-height: 1.4;  
        text-align: left;  
        white-space: nowrap;  
        overflow: hidden;  
        text-overflow: ellipsis;  
        max-width: 100%;  
    }
    
    .toc-nav:hover a {
        color: var(--toc-text-color);  
    }

    .toc-nav a::before {  
        content: '';  
        display: inline-block;  
        width: 16px;  
        height: 4px;  
        background-color: var(--toc-text-color);  
        border-radius: 16px;  
        margin-right: 12px;  
        vertical-align: middle;  
    }

    .toc-nav ul ul a::before {  
        width: 12px;  
        margin-right: 16px;  
    }

    .toc-nav ul ul ul a::before {  
        width: 8px;  
        margin-right: 20px;  
    }

    .toc-nav a.active,  
    .toc-nav a:hover {
        text-decoration: none;  
        color: var(--toc-hover-color);  
    }

    .toc-nav a.active::before,  
    .toc-nav a:hover::before {
        background-color: var(--toc-hover-color);  
    }

   
  button.upvote-btn {
    margin: 0;
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--body-text-color);
  }

  button.upvoted {
    color: var(--upvoted-color);
  }

  span.upvote-count {
    margin-top: -4px;
    font-size: smaller;
  }

  @media (max-width: 800px) {
    img[src*="#minipic"] {
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
    }

    div.toc {
      display: none;
    }
  }
</style>

</head>

<body>
  <header><a href="/" class="title">
  <h1>Patrick&#39;s Blog</h1>
</a>
<nav><a href="/">Home</a>

<a href="/book/books/">Books</a>

<a href="/monents/">Moments</a>


<a href="/blog/">Blog</a>

</nav>
</header>
  <main>


<h1>如何在终端中使用chatGPT 3.0</h1>

<p>
  <i>
    <time datetime='2022-12-23' pubdate>
      23 Dec, 2022
    </time>
  </i>
</p>


 

<content> <h1 id="如何在终端中使用chatgpt">如何在终端中使用chatGPT?</h1>
<p>Created: December 17, 2022 6:33 PM
Tags: Thoughts</p>
<p>来源于GitHub项目:https://github.com/PopDaddyGames/ChatGPT-Terminal</p>
<blockquote>
<p>ChatGPT-Terminal 是一个命令行界面，它使用 OpenAI API 根据用户输入生成响应。</p></blockquote>
<h1 id="-chatgpt-终端">🤖 ChatGPT 终端</h1>
<h2 id="欢迎来到-chatgpt-终端">欢迎来到 ChatGPT 终端！</h2>
<p>我很高兴与您分享这个项目！</p>
<p>这个终端 ChatGPT 界面是用 Python 编写的，通过 <a href="https://chat.openai.com/chat">ChatGPT</a> 模型（这是一个由 <a href="https://openai.com/">OpenAI</a> 训练的大型语言模型）生成答案)).</p>
<p>大纲：
此代码使用 openai 模块与 OpenAI API 交互。它首先检查用户的操作系统，并将清除终端屏幕的适当命令分配给 clear 变量。然后，如果代码中尚未提供，它会提示用户输入他们的 OpenAI API 密钥。最后，它进入一个 while 循环，提示用户输入并使用 OpenAI API 根据提供的输入生成响应。然后将响应打印到终端。</p>
<blockquote>
<p>注意：代码已根据屏幕截图进行了轻微修改。参考 ChatGPT-Terminal.py</p></blockquote>
<p><figure class="image-caption">
    <img src="https://assets.b3logfile.com/siyuan/1671718195390/assets/Untitled-20221223010557-r58qxg8.png" alt="Untitled">
    <figcaption>Untitled</figcaption>
</figure></p>
<p>如果您有任何改进意见或建议，我很乐意听取。
感谢您访问我的 GitHub 页面并考虑我的项目！</p>
<p><a href="https://github.com/PopDaddyGames/ChatGPT-Terminal">在 GitHub 上查看</a></p>
<p><a href="https://patreon.com/PopDaddyGames?utm_medium=clipboard_copy&amp;utm_source=copyLink&amp;utm_campaign=creatorshare_creator&amp;utm_content=join_link">支持 Patreon</a></p>
<h2 id="安装">安装</h2>
<blockquote>
<p>注意：根据您的安装环境（例如 MacOS），您可能需要使用 pip3 代替 pip 或 python3 代替 python</p></blockquote>
<h3 id="第-1-步创建一个-openai-帐户">第 1 步：创建一个 <a href="https://beta.openai.com/account">OpenAI 帐户</a></h3>
<h3 id="第-2-步生成一个-openai-api-密钥">第 2 步：生成一个 <a href="https://beta.openai.com/account/api-keys">OpenAI API 密钥</a></h3>
<h3 id="第-3-步下载-chatgpt-terminal">第 3 步：下载 <a href="https://github.com/PopDaddyGames/ChatGPT-Terminal.git">ChatGPT-Terminal</a></h3>
<blockquote>
<p>进入“ChatGPT-Terminal.py”并输入您的 API 密钥和变量</p></blockquote>
<pre tabindex="0"><code>api_key = &#34;12345623142131&#34;
温度 = 0.5 # 0 到 1
max_tokens = 2000 # 最大 4000
personality = &#34;132321&#34;
</code></pre><h3 id="第四步安装依赖">第四步：安装依赖</h3>
<pre tabindex="0"><code>pip install openai
</code></pre><h3 id="第-5-步运行-chatgpt">第 5 步：运行 ChatGPT</h3>
<pre tabindex="0"><code>python ChatGPT-Terminal.py
</code></pre><h2 id="在iterm2实现快捷打开此文件">在iterm2实现快捷打开此文件</h2>
<p>如果你是mac系统的,可以跟着我这么做</p>
<ol>
<li>
<p>先修改ChatGPT-Terminal.py</p>
</li>
<li>
<p>填写api_key和personality
{: updated=&ldquo;20221223010539&rdquo; id=&ldquo;20221223010539-5nqhn7b&rdquo;}</p>
</li>
<li>
<p>找到此文件的地址</p>
</li>
<li>
<p>比如:Desktop/python_code/pythonProject1/chatGPT/chatgpt.py
{: id=&ldquo;20221223010544-4oayk8d&rdquo; updated=&ldquo;20230223010918&rdquo;}</p>
</li>
<li>
<p>把这个地址放在命令里</p>
</li>
<li>
<p>比如python3 Desktop/python_code/pythonProject1/chatGPT/chatgpt.py
{: id=&ldquo;20221223010549-3pjgnfl&rdquo; updated=&ldquo;20230223010912&rdquo;}</p>
</li>
<li>
<p>尝试运行
{: id=&ldquo;20221223010551-0tne0jr&rdquo; updated=&ldquo;20221223010551&rdquo;}</p>
</li>
</ol>
<p><figure class="image-caption">
    <img src="https://assets.b3logfile.com/siyuan/1671718195390/assets/Untitled%201-20221223010557-vun1obb.png" alt="Untitled">
    <figcaption>Untitled</figcaption>
</figure></p>
<ol>
<li>设置命令和快捷打开方式</li>
</ol>
<p><figure class="image-caption">
    <img src="https://assets.b3logfile.com/siyuan/1671718195390/assets/Untitled%202-20221223010557-nhc4hw2.png" alt="Untitled">
    <figcaption>Untitled</figcaption>
</figure></p>
<p>经测试,这样来访问chatgpt不会频繁断线了,而且也不需要等待他输入,速度快很多</p>
<p>‍</p>
<p>‍</p>
 </content>

<p>
  
</p>



<div class="upvote-container">
<small class="upvote">
  <button class="upvote-btn" id="upvote-btn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
    <polyline points="17 11 12 6 7 11"></polyline>
    <polyline points="17 18 12 13 7 18"></polyline>
    </svg>
    <span class="upvote-count" id="upvote-count">0</span>
  </button>
</small>
</div>

<script>
  let hasUpvoted = false;
  let upvoteBtn;
  let upvoteCount;

  
  document.addEventListener('DOMContentLoaded', function() {
    const slug = '';
    upvoteBtn = document.getElementById('upvote-btn');
    upvoteCount = document.getElementById('upvote-count');
    getCount(slug);

    
    upvoteBtn.addEventListener('click', handleUpvote);
  });

  
  async function handleUpvote() {
    if (hasUpvoted) {
      console.log('You have already upvoted this post!');
      return;
    }
    const slug = '';

    
    upvoteBtn.disabled = true;
    
    upvoteBtn.classList.add('upvoted');
    
    upvoteCount.innerText = parseInt(upvoteCount.innerText) + 1;

    try {
      const response = await fetch('hugo.perinchiang.workers.dev\/upvote', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ postId: slug, diff: 1 }),
      });

      if (response.ok) {
        console.log('Upvote successful!');
        hasUpvoted = true;
        await getCount(slug, 3);
      } else {
        console.log('Upvote failed!');
      }
    } catch (error) {
      console.error('Error: ', error);
    } finally {
      upvoteBtn.disabled = false;
    }
  }

  
  async function getCount(slug, retryCount = 0) {
    try {
      const response = await fetch('hugo.perinchiang.workers.dev\/count?post=' + slug, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      });

      const data = await response.json();

      if (data.code === 0) {
        const count = data.data.count;
        upvoteCount.innerText = count;
        hasUpvoted = data.data.hasUpvoted;
        if (hasUpvoted) {
          upvoteBtn.classList.add('upvoted');
        } else {
          upvoteBtn.classList.remove('upvoted');
        }
      } else {
        console.error('Failed to get upvote count: ', data.msg);
      }
    } catch (error) {
      console.error('Error: ', error);
      if (retryCount > 0) {
        setTimeout(() => {
          getCount(slug, retryCount - 1);
        }, 1000);
      }
    }
  }
</script>




 
<div class="toc">


<nav class="toc-nav">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#欢迎来到-chatgpt-终端">欢迎来到 ChatGPT 终端！</a></li>
    <li><a href="#安装">安装</a>
      <ul>
        <li><a href="#第-1-步创建一个-openai-帐户">第 1 步：创建一个 OpenAI 帐户</a></li>
        <li><a href="#第-2-步生成一个-openai-api-密钥">第 2 步：生成一个 OpenAI API 密钥</a></li>
        <li><a href="#第-3-步下载-chatgpt-terminal">第 3 步：下载 ChatGPT-Terminal</a></li>
        <li><a href="#第四步安装依赖">第四步：安装依赖</a></li>
        <li><a href="#第-5-步运行-chatgpt">第 5 步：运行 ChatGPT</a></li>
      </ul>
    </li>
    <li><a href="#在iterm2实现快捷打开此文件">在iterm2实现快捷打开此文件</a></li>
  </ul>
</nav>
</nav>

<script>
    
    document.addEventListener('DOMContentLoaded', function () {
        const tocLinks = document.querySelectorAll('.toc-nav a');
        const headings = Array.from(tocLinks).map(link => {
            const id = link.getAttribute('href').replace('#', '');
            return document.getElementById(id);
        }).filter(h => h);

        
        tocLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').replace('#', '');
                const target = document.getElementById(targetId);
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });

                    
                    tocLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        
        function updateActiveLink() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;

            for (let i = headings.length - 1; i >= 0; i--) {
                const heading = headings[i];
                const rect = heading.getBoundingClientRect();

                if (rect.top <= 100) {
                    
                    tocLinks.forEach(link => link.classList.remove('active'));
                    
                    
                    const activeLink = document.querySelector(`.toc-nav a[href="#${heading.id}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                        
                        
                        let currentLi = activeLink.closest('li');
                        while (currentLi) {
                            const parentLi = currentLi.parentElement.closest('li');
                            if (parentLi) {
                                const parentLink = parentLi.querySelector('a');
                                if (parentLink) {
                                    parentLink.classList.add('active');
                                }
                                currentLi = parentLi;
                            } else {
                                break;
                            }
                        }
                    }
                    break;
                }
            }
        }

        
        let ticking = false;
        function throttleScroll() {
            if (!ticking) {
                requestAnimationFrame(function () {
                    updateActiveLink();
                    ticking = false;
                });
                ticking = true;
            }
        }

        window.addEventListener('scroll', throttleScroll);

        
        updateActiveLink();
    });
</script>

</div>



  </main>
  <footer>


Subscribe via <a href="/index.xml">RSS</a> or just <a href="mailto:example@example.com">say hello</a>.
<br />








Made with
<a href="https://github.com/rokcso/hugo-bearneo/">Hugo Bear Neo</a>.
<br />




Copyright © 2024-2025, Rokcso.


🗺️ <a href="/sitemap.xml">Sitemap</a>.

</footer>

    


</body>

</html>
